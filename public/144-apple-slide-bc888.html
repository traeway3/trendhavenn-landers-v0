<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unlock Your Apple Pay Reward</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            background: #f5f5f7;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            color: #1d1d1f;
            padding: 20px;
        }

        body {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }
        
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: 1;
            top: 0;
            left: 0;
        }

        .page-container {
            position: relative;
            z-index: 2;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding-bottom: 20px;
        }

        /* --- Animations --- */
        @keyframes cardFloat {
            0%, 100% { transform: translatey(0px); }
            50% { transform: translatey(-10px); }
        }
        @keyframes amountPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes buttonPulse {
            0% { transform: scale(1); box-shadow: 0 10px 30px #1d1d1f4d, 0 5px 15px #1d1d1f33; }
            50% { transform: scale(1.02); box-shadow: 0 12px 35px #1d1d1f66, 0 6px 18px #1d1d1f4d; }
            100% { transform: scale(1); box-shadow: 0 10px 30px #1d1d1f4d, 0 5px 15px #1d1d1f33; }
        }

        /* Updated countdown timer animation to be more subtle */
        @keyframes timerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.01); }
        }

        /* --- Main Card Layout --- */
        .reward-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            padding: 1.5rem;
            position: relative;
            backdrop-filter: blur(10px);
            border: 1px solid #1d1d1f33;
            max-width: 450px;
            width: 100%;
            box-shadow: 0 10px 30px #1d1d1f1a, 0 1px 8px #1d1d1f33;
            animation: cardFloat 3s ease-in-out infinite;
            text-align: center;
        }

        /* --- Header & Logo --- */
        .app-logo-container {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #1d1d1f1a;
        }
        .app-logo {
            width: 120px;
            height: auto;
            margin-bottom: 0.5rem;
            filter: drop-shadow(0 4px 12px #1d1d1f4d);
            border-radius: 8px;
        }
        /* Shortened and punchier headline */
        .main-headline {
            font-size: 1.8rem;
            font-weight: 800;
            color: #1d1d1f;
            line-height: 1.2;
            margin-bottom: 0.5rem;
        }
        .sub-headline {
            font-size: 1rem;
            font-weight: 500;
            color: #666;
            margin-bottom: 1rem;
            line-height: 1.3;
        }
        .amount {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1d1d1f;
            animation: amountPulse 2s infinite;
            margin-bottom: 0.25rem;
        }
        .amount-subtext {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: #1d1d1f;
            opacity: 0.8;
        }

        /* Updated countdown timer to neutral colors that match the theme */
        .countdown-container {
            background: rgba(29, 29, 31, 0.05);
            border: 1px solid rgba(29, 29, 31, 0.1);
            border-radius: 16px;
            padding: 1rem;
            margin: 1rem 0;
            color: #1d1d1f;
            animation: timerPulse 3s infinite;
        }
        .countdown-title {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            opacity: 0.8;
        }
        .countdown-timer {
            font-size: 1.5rem;
            font-weight: 800;
            font-family: 'Courier New', monospace;
            color: #1d1d1f;
        }

        .security-badge {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 12px;
            padding: 0.75rem;
            margin: 1rem 0;
            font-size: 0.9rem;
            font-weight: 600;
            color: #0369a1;
        }
        .security-icon {
            width: 20px;
            height: 20px;
        }

        /* --- Instructions & Steps --- */
        .instructions-container {
            margin: 1rem auto;
            padding: 1rem;
            background: #1d1d1f0d;
            border-radius: 16px;
            border: 1px solid #1d1d1f1a;
        }
        /* Reverted to centered layout for visual harmony with the card design */
        .instruction-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 16px 0;
            font-size: 0.95rem;
            color: #1d1d1f;
            font-weight: 500;
            text-align: center;
        }
        .instruction-item:not(:last-child) {
            border-bottom: 1px solid #1d1d1f0d;
        }
        .number {
            background: #1d1d1f;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(29, 29, 31, 0.2);
            flex-shrink: 0;
            margin-bottom: 4px;
        }
        /* Simplified instruction text layout for better readability */
        .instruction-text {
            line-height: 1.4;
            max-width: 280px;
        }
        .emphasis {
            font-weight: 700;
            color: #1d1d1f;
        }
        .underline {
            text-decoration: underline;
            text-decoration-color: #1d1d1f;
            text-decoration-thickness: 2px;
            text-underline-offset: 2px;
        }

        /* --- CTA Button --- */
        .claim-button {
            display: block;
            background: #1d1d1f;
            color: white;
            border: none;
            padding: 1.25rem 2rem;
            border-radius: 20px;
            font-weight: 800;
            font-size: 1.2rem;
            width: 100%;
            cursor: pointer;
            margin: 1.5rem auto;
            animation: buttonPulse 2s infinite;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
        }
        .claim-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px #1d1d1f66, 0 8px 20px #1d1d1f4d;
        }

        /* --- Pop-up Notifications --- */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-150%);
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: 0 8px 32px #1d1d1f33;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
            color: #1d1d1f;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid #1d1d1f33;
            transition: transform 0.5s ease-out;
            max-width: 320px;
            width: calc(100% - 2rem);
        }
        .notification.show {
            transform: translateX(-50%) translateY(0);
        }
        .notification-icon {
            width: 24px;
            height: 24px;
            background: #34d399;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }
        .notification-content {
            flex: 1;
        }
        .notification-title {
            font-weight: 600;
            margin-bottom: 2px;
        }
        .notification-text {
            color: #666;
            font-size: 13px;
        }
        
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div class="page-container">
        <div class="reward-card">
            <div class="app-logo-container">
                <img src="/placeholder.svg?height=60&width=120" alt="Apple Pay Logo" class="app-logo">
                <!-- Shortened headline for more impact -->
                <h1 class="main-headline">Unlock Your Apple Pay Reward</h1>
                <p class="sub-headline">Earn up to $750 by completing simple deals and offers</p>
            </div>
            
            <!-- Updated countdown styling to match overall theme -->
            <div class="countdown-container">
                <div class="countdown-title">⏰ Limited Time Offer Expires In:</div>
                <div class="countdown-timer" id="countdown">23:59:45</div>
            </div>
            
            <div class="amount" id="amount">$750</div>
            <div class="amount-subtext">potential reward</div>
            
            <div class="security-badge">
                <svg class="security-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
                </svg>
                Secure & Confidential Process
            </div>
            
            <div class="instructions-container">
                <!-- Reverted to centered layout for better visual harmony -->
                <div class="instruction-item">
                    <span class="number">1</span>
                    <div class="instruction-text">
                        <span class="emphasis">Click the Button</span> below to get started
                    </div>
                </div>
                <div class="instruction-item">
                    <span class="number">2</span>
                    <div class="instruction-text">
                        <span class="emphasis">Enter Your Email</span> and basic information
                    </div>
                </div>
                <div class="instruction-item">
                    <span class="number">3</span>
                    <div class="instruction-text">
                        <span class="emphasis underline">Complete Deals</span> from our trusted partners
                    </div>
                </div>
                <div class="instruction-item">
                    <span class="number">4</span>
                    <div class="instruction-text">
                        <span class="emphasis">Claim Your Reward</span> and repeat for more earnings
                    </div>
                </div>
            </div>
            <div class="button-container">
                <a href="/api/redirect" id="claimButton" class="claim-button">Start Earning Now →</a>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        const CTA_BUTTON = document.getElementById('claimButton');
        const NAMES = [
            'Amanda S.', 'Jessica K.', 'Michael R.', 'Sarah M.', 'John D.',
            'Tyler K.', 'Lauren P.', 'Justin S.', 'Brittany L.', 'Andrew G.',
            'Megan T.', 'Zachary M.', 'Rachel D.', 'Matthew W.', 'Stephanie R.',
            'Joshua K.', 'Danielle P.', 'Nathan S.', 'Kayla L.', 'Jonathan G.'
        ];
        
        const LOCATIONS = [
            'California', 'Texas', 'Florida', 'New York', 'Illinois', 'Pennsylvania',
            'Ohio', 'Georgia', 'North Carolina', 'Michigan', 'New Jersey', 'Virginia',
            'Washington', 'Arizona', 'Massachusetts', 'Tennessee', 'Indiana', 'Missouri'
        ];
        
        const DEAL_NUMBERS = ['2nd', '3rd', '4th', '5th'];

        function createNameNotification() {
            const notification = document.createElement('div');
            notification.className = 'notification';
            const randomName = NAMES[Math.floor(Math.random() * NAMES.length)];
            const randomLocation = LOCATIONS[Math.floor(Math.random() * LOCATIONS.length)];
            const randomDeal = DEAL_NUMBERS[Math.floor(Math.random() * DEAL_NUMBERS.length)];
            const timeAgo = Math.floor(Math.random() * 15) + 1;
            
            notification.innerHTML = `
                <div class="notification-icon">✓</div>
                <div class="notification-content">
                    <div class="notification-title">Deal Completed</div>
                    <div class="notification-text">${randomName} from ${randomLocation} just completed their ${randomDeal} deal • ${timeAgo}m ago</div>
                </div>
            `;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.classList.add('show');
            }, 100);

            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 500);
            }, 5000);
        }

        function startNotifications() {
            setTimeout(() => {
                createNameNotification();
                setInterval(() => {
                    createNameNotification();
                }, 8000 + Math.random() * 7000);
            }, 3000);
        }

        function startCountdown() {
            let timeLeft = 24 * 60 * 60 - 15;
            
            function updateTimer() {
                const hours = Math.floor(timeLeft / 3600);
                const minutes = Math.floor((timeLeft % 3600) / 60);
                const seconds = timeLeft % 60;
                
                document.getElementById('countdown').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft > 0) {
                    timeLeft--;
                } else {
                    timeLeft = 24 * 60 * 60 - 15;
                }
            }
            
            updateTimer();
            setInterval(updateTimer, 1000);
        }

        function animateValue(element, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const currentValue = Math.floor(progress * (end - start) + start);
                element.textContent = `$${currentValue}`;
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        particlesJS('particles-js', {
            particles: {
                number: { value: 80, density: { enable: true, value_area: 800 } },
                color: { value: '#1d1d1f' },
                shape: { type: 'circle' },
                opacity: { value: 0.5, random: false },
                size: { value: 3, random: true },
                line_linked: {
                    enable: true,
                    distance: 150,
                    color: '#1d1d1f',
                    opacity: 0.4,
                    width: 1
                },
                move: {
                    enable: true,
                    speed: 6,
                    direction: 'none',
                    random: false,
                    straight: false,
                    out_mode: 'out',
                    bounce: false
                }
            },
            interactivity: {
                detect_on: 'canvas',
                events: {
                    onhover: { enable: true, mode: 'repulse' },
                    onclick: { enable: true, mode: 'push' },
                    resize: true
                }
            },
            retina_detect: true
        });

        window.addEventListener('load', function() {
            const amountElement = document.getElementById('amount');
            animateValue(amountElement, 0, 750, 2000);
            startNotifications();
            startCountdown();
        });

    </script>
</body>
</html>
